<nav class="bg-gray-800 text-white p-4 shadow-md relative z-50">
    <div class="container mx-auto flex justify-between items-center">
        <div class="text-2xl font-bold">RentaDrive</div>
        <ul class="flex space-x-4">
            <li><a class="hover:text-blue-400 transition duration-300 ease-in-out flex items-center" href="/usuario">
                <i class="fas fa-home mr-2"></i> Principal
            </a></li>
            <li><a class="hover:text-blue-400 transition duration-300 ease-in-out flex items-center" href="/carros">
                <i class="fas fa-car mr-2"></i> Carros
            </a></li>
            <!-- Condicional para mostrar "Reservas" solo si está logueado -->
            <li *ngIf="isLoggedIn"><a class="hover:text-blue-400 transition duration-300 ease-in-out flex items-center" href="/reservas-usuario">
                <i class="fas fa-calendar-check mr-2"></i> Reservas
            </a></li>
            <li class="relative group">
                <a (click)="toggleProfileDropdown()" class="hover:text-blue-400 transition duration-300 ease-in-out cursor-pointer flex items-center">
                    <i class="fas fa-user mr-2"></i> Perfil
                </a>
                <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg transition-opacity duration-300 z-50"
                    [ngClass]="{'opacity-0 pointer-events-none': !isProfileDropdownOpen, 'opacity-100': isProfileDropdownOpen}">
                    <!-- Opciones de perfil según si está logueado o no -->
                    <a *ngIf="!isLoggedIn" href="/login" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">
                        <i class="fas fa-sign-in-alt mr-2"></i> Iniciar Sesión
                    </a>
                    <a *ngIf="!isLoggedIn" href="/registro" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">
                        <i class="fas fa-user-plus mr-2"></i> Registrarse
                    </a>
                    <a *ngIf="isLoggedIn" href="/perfil" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">
                        <i class="fas fa-cogs mr-2"></i> Mi Perfil
                    </a>
                    <a *ngIf="isLoggedIn" (click)="logout()" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">
                        <i class="fas fa-sign-out-alt mr-2"></i> Cerrar Sesión
                    </a>
                </div>
            </li>
            <li class="relative group">
                <a (click)="toggleNotificationDropdown()" class="hover:text-blue-400 transition duration-300 ease-in-out cursor-pointer flex items-center" aria-label="Notificaciones">
                    <i class="fas fa-bell mr-2"></i> 
                    <span class="absolute top-0 right-0 block w-3 h-3 bg-red-500 rounded-full"></span>
                </a>
                <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg transition-opacity duration-300 z-50"
                    [ngClass]="{'opacity-0 pointer-events-none': !isNotificationDropdownOpen, 'opacity-100': isNotificationDropdownOpen}">
                    <div class="p-2">
                        <p class="text-gray-800 font-bold">Notificaciones</p>
                        <div *ngIf="notifications.length === 0" class="text-gray-600">No hay notificaciones recientes.</div>
                        <div *ngFor="let notification of notifications">
                            <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">{{ notification }}</a>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</nav>
