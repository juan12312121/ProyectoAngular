<!-- Botón flotante para abrir/cerrar el chat con animación -->
<button
  (click)="toggleChatbot()"
  class="fixed bottom-4 right-4 bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-full shadow-lg transition-transform transform hover:scale-110 z-50"
  [@buttonClickAnimation]
>
  <i class="fas fa-comments"></i>
</button>

<!-- Contenedor del chat -->
<div
  *ngIf="isChatbotVisible"
  [@slideAnimation]
  class="chatbot-container fixed bottom-20 right-4 bg-white w-3/12 p-6 rounded-lg shadow-lg z-50"
>
  <!-- Encabezado del chat -->
  <div class="chatbot-header bg-blue-500 text-white p-4 rounded-t-lg flex justify-between items-center">
    <h3 class="text-lg font-bold">Chat con nosotros</h3>
    <button
      (click)="toggleChatbot()"
      class="text-white text-lg font-bold hover:text-gray-300"
    >
      <i class="fas fa-times"></i>
    </button>
  </div>

  <!-- Área de mensajes -->
  <div class="chatbot-messages p-4 h-64 overflow-y-auto text-sm text-gray-800 border-b border-gray-200">
    <div *ngFor="let message of messages" class="mb-2">
      <span class="font-semibold">{{ message.sender }}:</span> {{ message.text }}
    </div>
  </div>

  <!-- Campo de texto y botón de envío -->
  <div class="chatbot-input flex items-center p-2">
    <input
      type="text"
      [(ngModel)]="userMessage"
      (keyup.enter)="sendMessage()"
      placeholder="Escribe tu mensaje..."
      class="flex-grow p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-blue-300"
    />
    <button
      (click)="sendMessage()"
      class="ml-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg transition-transform transform hover:scale-105"
    >
      <i class="fas fa-paper-plane"></i> Enviar
    </button>
  </div>
</div>
